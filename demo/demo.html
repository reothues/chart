<html>
  <head>
    <title>My plants</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="../node_modules/systemjs/dist/system.src.js"></script>

<link rel="stylesheet/less" type="text/css" href="demo.less" />

<script src="../node_modules/less/dist/less.js" type="text/javascript"></script>
      <style>
        html, body, div, span, applet, object, iframe,
        h1, h2, h3, h4, h5, h6, p, blockquote, pre,
        a, abbr, acronym, address, big, cite, code,
        del, dfn, em, img, ins, kbd, q, s, samp,
        small, strike, strong, sub, sup, tt, var,
        b, u, i, center,
        dl, dt, dd, ol, ul, li,
        fieldset, form, label, legend,
        table, caption, tbody, tfoot, thead, tr, th, td,
        article, aside, canvas, details, embed,
        figure, figcaption, footer, header, hgroup,
        menu, nav, output, ruby, section, summary,
        time, mark, audio, video {
        margin: 0;
        padding: 0;
        border: 0;
        font-size: 100%;
        font: inherit;
        vertical-align: baseline;
        list-style: none;

        }

      </style>

    <script>
      System.config({
        map: {
          'node_modules': '../node_modules',

          'plugin-babel': '../node_modules/systemjs-plugin-babel/plugin-babel.js',
          'systemjs-babel-build': '../node_modules/systemjs-plugin-babel/systemjs-babel-browser.js',

          'app': "./",
          'css': 'node_modules/systemjs-plugin-css',
          'less': 'node_modules/systemjs-plugin-less',
          'lesscss': 'node_modules/less'
        },
        packages: {
          'lesscss': {
            main: {
              browser: './dist/less.min.js',
              node: '@node/less'
            }
          },
          'css': { main: 'css.js' },
          'less': { main: 'less.js' },
          'app': { main: '../lib/demo/demo.js', defaultExtension: 'js' }
          , '': { main: '../lib/demo/demo.js', defaultExtension: 'js' }
        },
        meta: {
          '*.css': {loader: 'systemjs.csstext.js'},
          '*.less': { loader: 'less' },
          '*.js': {
            babelOptions: {
              es2015: false
            }
          }
        },

        transpiler: 'plugin-babel'
      })
      // System.import('../node_modules/less/browser.js');
      System.import('app').then(function (m) {

        chart.width = 800;
        chart.height = 600;
        chart.scale = {
          from: 0, to: 36, name: a => a
        }
        window.bb = blackboard;
        let rand = (length = 36, size = 100, range = .3) => {
          let arr = new Array(length);
          let i = 0;
          return arr.fill(size).map(a => a * (i++)/ length + Math.random() * a * range)
        }
        bb.set('test',rand());
        bb.set('tes1t',rand());
        bb.set('test3',rand());
        bb.set('tes14',rand());
        // window.x=plot.draw(chart.drawDeaf());
        plot.chart = chart;
        window.x = plot.draw();
        plot.pages.forEach(svg => {
          document.body.append(svg)

        });
        document.body.append(plot.cover)
        window.x.addEventListener('click', () => {
          plot.sort();
        })
      });
      //.catch(function (err) { window.onerror(err); });

    </script>
  </head>
  <body class="chartwrapper">
  </body>
    <!-- <script src="build/bundle/main.js"></script> -->

</html>